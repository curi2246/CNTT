<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CENTRAL DATABASE - SYSTEM ERROR</title>
    <style>
        * { box-sizing: border-box; font-family: 'Courier New', monospace; }
        :root {
            --neon-pink: #ff5e5e;
            --neon-mint: #5effeb;
            --bg-black: #020d0d; 
        }

        body {
            margin: 0; background: var(--bg-black); color: var(--neon-pink);
            overflow: hidden; transition: background-color 0.5s;
        }

        /* --- 글리치 애니메이션 --- */
        @keyframes screenShake {
            0% { transform: translate(0); filter: hue-rotate(0deg); }
            10% { transform: translate(-5px, 5px); filter: invert(1); }
            20% { transform: translate(5px, -5px); }
            30% { transform: translate(-5px, 0); }
            100% { transform: translate(0); }
        }

        .glitch-active {
            animation: screenShake 0.15s infinite !important;
        }

        .bg-sigil {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: min(70vh, 70vw); color: rgba(94, 255, 235, 0.03);
            z-index: 1; pointer-events: none;
        }

        .screen {
            position: relative; width: 100vw; height: 100vh;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px; z-index: 2;
        }

        .terminal {
            width: 100%; max-width: 600px; border: 1px solid var(--neon-pink);
            background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(5px);
            padding: 20px; margin-bottom: 15px;
        }

        #file-scroll-container { max-height: 400px; overflow-y: auto; scroll-behavior: smooth; }
        
        /* 히든 버튼 스타일 */
        .hidden-trigger-zone { 
            margin-top: 200px; padding: 50px 0; text-align: center; 
            display: none; /* 기본적으로 숨김 */
        }

        .hidden-button {
            width: 60px; height: 60px; border-radius: 50%;
            background: radial-gradient(circle, #ff0000, #000);
            border: 2px solid #fff; cursor: pointer;
            margin: 20px auto; box-shadow: 0 0 15px #ff0000;
            animation: pulse 1s infinite;
        }

        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

        .directory { width: 100%; max-width: 600px; }
        .folder { border: 1px solid var(--neon-mint); color: var(--neon-mint); padding: 12px; margin-bottom: 8px; cursor: pointer; }
        .file { cursor: pointer; padding: 10px; color: #fff; border-left: 1px dashed #444; margin-left: 15px; }
        .hidden { display: none !important; }
    </style>
</head>
<body>

    <div class="bg-sigil">⟡</div>

    <div id="auth-screen" class="screen">
        <div class="header"><h1>SECURITY CHECK</h1></div>
        <div class="terminal">
            <form id="auth-form"><input id="password-input" type="password" placeholder="PASSWORD" style="width:100%; text-align:center; background:none; border:none; border-bottom:1px solid var(--neon-mint); color:white; outline:none;"></form>
        </div>
    </div>

    <div id="main-screen" class="screen hidden">
        <div id="database-view" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
            <div class="header"><h1>CENTRAL DATABASE</h1></div>
            <div class="terminal"><div id="terminal-text">> SYSTEM READY...</div></div>
            <div class="directory" id="directory"></div>
        </div>

        <div id="file-screen" class="hidden" style="width: 100%; display: flex; flex-direction: column; align-items: center;">
            <div class="header"><h1 id="file-title">FILE</h1></div>
            <div class="terminal">
                <div id="file-scroll-container">
                    <div id="file-text"></div>
                    <div id="hidden-zone" class="hidden-trigger-zone">
                        <p style="color:red; font-weight:bold;">CRITICAL ERROR: HIDDEN SECTOR FOUND</p>
                        <div id="secret-btn" class="hidden-button"></div>
                    </div>
                </div>
            </div>
            <button id="back-btn" style="background:none; border:1px solid var(--neon-mint); color:var(--neon-mint); padding:10px; cursor:pointer;">← BACK</button>
        </div>
    </div>

    <script>
        const PASSWORD = "1234";
        let isGlitchUnlocked = false; // glitch 입력 여부
        let inputBuffer = ""; // 타이핑 저장용

        const fileSystem = {
            "The main character": {
                "Leay_Full_Archive.txt": "명칭: 리에(Leay)\n\n[종족]\n인간(human),노에인(Noein)\n\n[성별]\n여성\n\n[프로필]\n키: 169cm\n몸무게: 51.2kg]\n성격: 친절하면서도 이기주의 성향의 소유자이며 때때로 이익을 따지기도 한다.\n외형: 흰색 머리카락에 약간 왜소한 체형을 하고있고 밝은 회색에 후드티를 입고 다니며 대부분 모자를 쓰고 다니며 활동한다. 중간중간 모자를 벗고 다양한 패션을 보여준 적도 있지만 대부분 몸을 어느정도 가리고 다닌다.\n\n[능력]\n기본적인 여성의 근력과 능력을 가졌지만 리셋에서도 잃지않는 기억들과 끈기, 무엇보다 여러 일들을 겹쳐 겪은 여파로 모든 생물들 중에서 가장 뒤어난 동체시력을 가지고 있다.\n\n[일행]\n큐로,키스네와 대부분 함꼐 지내며 어디에서 잠과 식사를 해결하는지는 미지수이다.\n\n[만난 적 있음, 혹은 접점이 있던 존재들]\n아레인(Arein), 토리(tory), 시로(shiro), 실크(silk), 애키스(ekis), 키스네 코든(kisune_Corden) 등등 대부분의 인물들과 전부 접점이 있던 것으로 알려져 있으며 대부분 친분이 어느정도 있는 것으로 추정되고 있다.",
                "Curo_Half_Archive.txt": "명칭: 큐로(Curo)\n\n[종족]\n요괴(yokai), 구미호(nine tail)\n\n[성별]남성\n\n[프로필\n키: 180cm\n몸무게: 72.1kg\n성격: 품어주면서도 어느정도 냉정하게 상대를 대하는 이익주의자 성격의 소유자\n외형: 검은 머리카락에 검은 반팔을 입고 다니며 그 위에는 밝은 하늘색 후드집업을 입고 다닌다. 1개의 여우 꼬리와 귀를 가지고 있으며 꼬리의 끝 부분에서는 경계가 있고 그 경계는 밝은 빨강을 띄고 있다. 바깥 부분은 밝은 회색이며 귀도 이와같이 내부는 밝은 빨강에 바깥은 밝은 회색을 띄고 있다. 눈 색은 원래 두 눈 모두 바닷빛 푸른 눈을 지니고 있었지만 어린시절 어느 강제 실험으로 인해 왼쪽 눈은 루비빛 눈을 하게 되어 오드아이로 변하게 되었다.\n\n[능력]\n기본적으로 푸른색에 글리치로 일렁이는 포탈과 블래스터를 사용하고 있다. 블러스터의 형태는 명확한 총신이나 포신으로 고정되지 않고, 중심부에서부터 부서진 결정과 금속 파편이 뒤틀린 채 방사형으로 뻗어 나간 구조를 하고 있다. 전체 실루엣은 날개와 포신의 중간쯤 되는 모습으로, 좌우가 완전히 대칭이 아니며 일부는 의도적으로 깨진 듯 어긋나 있다. 주 재질은 짙은 청록색과 회청색 금속, 그 사이사이에 빛을 머금은 에메랄드색 에너지 코어 조각이 박혀 있다. 이 코어들은 일정한 박동으로 희미하게 빛나며, 블래스터가 ‘충전 중’일 때는 균열 사이로 빛이 새어 나와 공기를 베어내듯 흔적을 남긴다. 표면에는 긁히고 마모된 자국이 많아, 오래 사용되었거나 반복적으로 과부하를 겪은 무기임을 암시한다. 다만 현재 관측되는 이 형태가 본래의 기본 모습이며, 기록상 확인된 다른 양상으로는 블래스터가 거대한 용의 형상으로 전개되는 경우가 있다. 이때는 사용자가 그 위에 직접 올라타 이동하는 것이 가능하며, 용의 입 부분을 뒤로 꺾어 에너지를 발사함과 동시에 추진력을 증폭시키는 장면도 보고되었다. 또한 내부 공간이 확장된 듯 보이는 현상이 관측되어, 다인승 구조로 여러 인물을 태운 채 장거리 이동을 하는 모습 역시종종 목격된다. 블래스터의 후방은 특히 불안정해 보이는데, 검은 입자와 잉크처럼 번지는 잔해가 항상 주변에 떠다닌다. 이는 발사 후의 잔열이나, 공간 자체가 찢겨 나간 부산물처럼 보이며 완전히 사라지지 않고 천천히 흩어졌다 다시 끌려온다. 이로 인해 블래스터는 정지해 있어도 끊임없이 움직이는 것 같은 인상을 준다. 발사부는 하나로 고정되어 있지 않고, 상황에 따라 집속형으로 수렴하거나 넓게 퍼지는 파괴광으로 변형된다. 강력한 일격을 준비할 때는 전체 구조가 안쪽으로 조여 들며 날카로운 창 형태가 되고, 난사나 제압 시에는 균열이 벌어지며 파편들이 외곽으로 확장된다.\n\n[일행]\n키스네(Kisune), 리에(Leay)  이 두명이서 같이 지내는 것으로 추정되며 특히 키스네와 매우 사이가 좋은 것으로 보아 둘이 연인 사이인 것으로 예상된다.\n\n[만난 적 있음, 혹은 접점이 있던 존재들]\n아레인(Arein), 토리(tory), 시로(shiro), 실크(silk), 애키스(ekis), 알레프(Aleph), 키스네 코든(Kisune_Corden) 등등 여기서 애키스와는 사이가 매우 안 좋은 것으로 나와있다. 과거 어린시절 자신을 붙잡고 강제로 비 인류적인 실험을 강행하여 생긴 그로인해 그의 대해 말을 할 때면 주변 공기가 싸늘해지는 것을 볼 수 있다.",
                "Kisune_Full_Archive.txt": "명칭: 키스네(Kisune)\n\n[종족]\n악마(demon), ???\n\n[성별]\n여성\n\n[프로필\n키: 158cm\n몸무게: 46.6kg\n성격: 악마라는 것이 무색하게 매우 친절하지만 악마는 악마인지라 살생을 하지 말아야할 이유를 모르며 무조건 자기가 정당하다는 자기 주장이 강한 성격\n외형: 흰색 반팔을 입고 있으며 그 위에 아주 약간 밝은 검정 후드집업을 입고 다니고 있다. 다른 일행에 비해 가장 패션이 다양하며 수영복, 유카타 등등 다양한 패션을 보여준 적이 있다.\n\n[능력]\n다른 악마들보다 더욱 뛰어난 계약 체결 능력을 가지고 있으며 그 계약의 여파로 계약자의 능력을 일부분 가져가 자신이 사용 하는 것이 가능하다. 예를 들어 큐로의 포탈과 블래스터를 가져다 쓸 수는 있지만 위력은 약해진 상태로 나오거나 포탈의 거리가 매우 짧아진 상태로 소환이 가능해지는 것 등등 본인의 역량이 강하면 강할 수록 그 능력들도 본 위력을 발휘할 수 있게 된다.또한 어느 공간을 찢어 자신만의 공간을 오갈 수 있는 것으로 알려져 있으며 그 내부는 평범한 원룸으로 추정된다. 거기서 식사와 잠을 해결하는 것으로 보이며 다른 인물들도 초대하여 들어오는 것이 가능한 것으로 보아 대부분에 생활을 이 시공간에서 보내는 것으로 추정된다.\n\n[일행]\n큐로(curo), 리에(Leay) 이 두명이서만 다니는 것으로 보이며 특히 큐로와 자주 붙어다니고 에장헹각을 하는 것을 보면은 큐로와 연인 사이인 것으로 보인다. 리에와는 매우 친하게 지내며 자주 장난을 주고받는 사이로 보이며 가끔 두명이서만 놀러 다니는 것이 보인다.\n\n만난 적 있음, 혹은 접점이 있던 존재들]\n아레인(Arein), 토리(tory), 시로(shiro), 실크(silk), 애키스(ekis), 알레프(Aleph), 키스네 코든(Kisune_Corden) 등등 다양한 인물들과 만나며 특히 키스네 코든과는 서로 어색한 사이를 유지 중이다. 다른 시간선에서 나타난 자신이란 사실에 처음에는 부정하며 살아가려 했지만 큐로의 말과 리에의 설득으로 어느정도 이해하며 같은 시간선에서 지내는 것을 별로 크게 신경쓰지 않고 나름 좋아지려 노력하는 모습이 보인다.\n\n[현재 가지고 있는 병]\n 키스네 코든, 자기 자신이 같은 시간선에 두명이 존재하는 오류 떄문에 부정적인 감정이 격해지면 격해질 수록 몸이 글리치가 일어나며 숨을 쉬기 어려워할 정도로 고통에 시달리는 것으로 보인다. 하지만 가끔씩 아무 이유 없이 갑자기 발병하는 일도 있지만 매우 드물며 키스네 본인도 이를 인지하고 최대한 인내심을 가지고 긍정적으로 살아가고 있다."
                 "Shiro_Full_Archive.txt": "명칭: 시로(Shiro)\n\n[종족]\n천사(angel), 노에인(Noein)\n\n[성별]\n남성\n\n[프로필]\n키: 187cm\n몸무게: 77.9kg\n성격: 매우 진중하지만 때때로 어디로 튈지 모르는 미친 성격의 소유자. 하지만 천사라는 이름에 걸맞게 친절한 성격이기도 하다."
            },
             "The enemy": {
                    "enemies.txt": "여태까지 큐로, 키스네, 리에가 상대하던 적들, 혹은 적 이였던 존재들을 나열한 파일이다.",
                    "inferno_gate.txt": "더미 데이터"
                },
            "Demon": {
                    "demon_rank.txt": "상위 7위 이내의 악마들은 개별적인 지옥을 소유하며 인과율을 비틀 수 있는 권능을 가진다.",
                    "inferno_gate.txt": "게이트 오픈 조건: 혈액 500cc와 정해진 언어의 영창."
                },
                "Angel": {
                    "seraphim_law.txt": "천사들은 감정을 배제한 채 시스템의 유지만을 목적으로 행동한다.",
                    "heaven_protocol.txt": "더미 데이터."
                },
                "Human": {
                    "survivor_list.txt": "잔존 인류 수: 1,334,214,005명\n거주 구역: 중앙 메인 지역에서 현재 극히 일부를 제외하고 밀집하여 살아가는 중",
                    "resistance_info.txt": "더미 데이터."
                },
                "Principle": {
                    "Principle_Full_Archive.txt": "몇몇 알고있는 개념들에서는 그 사용자의 강함으로 인해 서서히 의식을 가지고 자아가 생겨나거나 현상으로 나타나는 존재들을 우리는 ''의 역할 혹은 그 개념으로 부르고 다닌다.\n\n[개념들의 능력]\n각각 계약, 오만, 오류 등등 가장 핵심으로 있는 개념들이 개인적으로 현상으로 나타나거나 인격체로 형상되어 나타나는 존재들이다.",
                    "Principle_legacy.txt": "과거 이 개념들이 나타나던 시기는 알 수 없으며 몇몇 존재들은 본인들을 아예 '우주가 창조되기 이전' 시간에 나타났다는 거짓 증언을 하는 것을 보아 정확한 경위를 파악하는 것은 불가능이라 판단하고 있는 중이다."
                },
                "World": {
                    "Noein.txt": "노에인(Noein)\n\n현재 존재하는 노에인은 정확히 밝혀진 존재들은 없지만 현재 3명정도 나온 것으로 추정된다.\n노에인으로는 각각 리에(Leay), 시로(Shiro), 토리(tory) 이 3명이 노에인으로 밝혀졌다.",
                    "Glitch.log": "글리치(Glitch)\n\n글리치란 일종에 자연재해에 가까운 현상이며 어느 어디에서도 나타날지 모르는 매우 불규칙적인 성향을 나타내고 있다."
                }
            };
        

        // 1. "glitch" 키워드 감지
        window.addEventListener('keydown', (e) => {
            inputBuffer += e.key.toLowerCase();
            if (inputBuffer.length > 6) inputBuffer = inputBuffer.substring(inputBuffer.length - 6);

            if (inputBuffer === "glitch") {
                triggerSystemGlitch();
            }
        });

        function triggerSystemGlitch() {
            isGlitchUnlocked = true;
            document.body.classList.add('glitch-active');
            
            // 2초간 미친듯이 흔들리다가 멈춤
            setTimeout(() => {
                document.body.classList.remove('glitch-active');
                alert("SYSTEM BREACHED: HIDDEN DATA UNLOCKED");
            }, 1500);
        }

        // 로그인 로직
        document.getElementById("auth-form").onsubmit = (e) => {
            e.preventDefault();
            if(document.getElementById("password-input").value === PASSWORD) {
                document.getElementById("auth-screen").classList.add("hidden");
                document.getElementById("main-screen").classList.remove("hidden");
                buildDirectory();
            }
        };

        function buildDirectory() {
            const dir = document.getElementById("directory");
            dir.innerHTML = "";
            Object.keys(fileSystem).forEach(folder => {
                const fDiv = document.createElement("div"); fDiv.className = "folder"; fDiv.textContent = folder;
                const list = document.createElement("div"); list.className = "hidden";
                fDiv.onclick = () => list.classList.toggle("hidden");
                Object.keys(fileSystem[folder]).forEach(file => {
                    const fi = document.createElement("div"); fi.className = "file"; fi.textContent = file;
                    fi.onclick = (e) => { e.stopPropagation(); openFile(file, fileSystem[folder][file]); };
                    list.appendChild(fi);
                });
                dir.appendChild(fDiv); dir.appendChild(list);
            });
        }

        function openFile(name, content) {
            document.getElementById("database-view").classList.add("hidden");
            document.getElementById("file-screen").classList.remove("hidden");
            document.getElementById("file-title").textContent = name;
            document.getElementById("file-text").innerText = content;
            const container = document.getElementById("file-scroll-container");
            const hZone = document.getElementById("hidden-zone");
            
            container.scrollTop = 0;
            hZone.style.display = "none"; // 기본 숨김

            // 큐로 파일이고 + glitch가 이미 입력되었다면 스크롤 감시
            if (name.includes("Curo") && isGlitchUnlocked) {
                container.onscroll = () => {
                    if (container.scrollTop + container.clientHeight >= container.scrollHeight - 10) {
                        hZone.style.display = "block"; // 스크롤 내리면 버튼 등장
                    }
                };
            }
        }

        document.getElementById("back-btn").onclick = () => {
            document.getElementById("file-screen").classList.add("hidden");
            document.getElementById("database-view").classList.remove("hidden");
        };

        document.getElementById("secret-btn").onclick = () => {
            alert("존재하지 않은 구역에 진입합니다...");
        };
    </script>
</body>
</html>
