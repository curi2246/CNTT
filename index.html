<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CENTRAL DATABASE</title>
    <style>
        /* CSS: ë””ìì¸ ë¶€ë¶„ */
        :root {
            --main-color: #ff5e5e; /* í•‘í¬/ë ˆë“œ */
            --sub-color: #5effeb;  /* ë¯¼íŠ¸/ë¸”ë£¨ */
            --bg-color: #000000;
        }

        body {
            background-color: var(--bg-color);
            color: var(--main-color);
            font-family: 'Courier New', Courier, monospace;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        .screen { width: 80%; max-width: 800px; }
        .hidden { display: none !important; }

        .header { text-align: center; margin-bottom: 20px; }
        .sigil { font-size: 3rem; color: var(--sub-color); text-shadow: 0 0 10px var(--sub-color); cursor: pointer; transition: 0.3s; }
        h1 { font-size: 2rem; border-bottom: 2px solid var(--main-color); padding-bottom: 10px; margin-top: 10px; }

        .status { display: flex; justify-content: space-between; font-size: 0.8rem; margin-top: 5px; color: var(--main-color); opacity: 0.8; }

        .terminal { background: rgba(20, 20, 20, 0.9); border: 1px solid var(--main-color); padding: 20px; margin: 20px 0; min-height: 100px; box-shadow: 0 0 15px rgba(255, 94, 94, 0.2); }
        .terminal-inner p { margin: 5px 0; line-height: 1.5; }

        #password-input { background: transparent; border: none; border-bottom: 2px solid var(--sub-color); color: var(--sub-color); font-size: 1.2rem; outline: none; width: 100%; }

        .directory { margin-top: 20px; }
        .folder { color: #ffca28; cursor: pointer; padding: 10px; border: 1px solid transparent; font-weight: bold; }
        .folder:hover { border: 1px solid #ffca28; }
        
        .file-list { margin-left: 20px; }
        .file { color: var(--sub-color); cursor: pointer; padding: 5px; transition: 0.2s; }
        .file:hover { background: rgba(94, 255, 235, 0.1); padding-left: 15px; }

        #back-btn { background: transparent; border: 1px solid var(--sub-color); color: var(--sub-color); padding: 10px 20px; cursor: pointer; margin-top: 20px; font-family: inherit; }
        #back-btn:hover { background: var(--sub-color); color: black; }

        .cursor { display: inline-block; width: 10px; height: 1.2rem; background: var(--main-color); margin-left: 5px; animation: blink 0.8s infinite; vertical-align: middle; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
    </style>
</head>
<body>

    <div id="auth-screen" class="screen">
        <div class="header">
            <div class="sigil">âŸ¡</div>
            <h1>SECURITY CHECK</h1>
        </div>
        <div class="terminal">
            <div class="terminal-inner">
                <p>> ì ‘ê·¼í•˜ë ¤ë©´ ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤.</p>
                <p>> ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì‹­ì‹œì˜¤. (ê¸°ë³¸: 1234)</p>
                <input id="password-input" type="password" autofocus />
                <div id="auth-message" style="margin-top:10px; color: var(--sub-color);"></div>
            </div>
        </div>
    </div>

    <div id="main-screen" class="screen hidden">
        
        <div id="file-screen" class="hidden">
            <div class="header">
                <div class="sigil">âŸ¡</div>
                <h1 id="file-title">ACCESSING FILE</h1>
            </div>
            <div class="terminal">
                <div class="terminal-inner" id="file-text">
                    </div>
            </div>
            <button id="back-btn">â† BACK</button>
        </div>

        <div id="database-view">
            <div class="header">
                <div class="sigil">âŸ¡</div>
                <h1>CONTRACT DATABASE</h1>
                <div class="status">
                    <span>C.N.T.T SYSTEM v4.0.2</span>
                    <span>CONTRACT NUMBER: KSN00916</span>
                </div>
            </div>

            <div class="terminal">
                <div class="terminal-inner" id="terminal-text"></div>
            </div>

            <div class="directory">
                <div class="folder" data-folder="world">ğŸ“ WORLD_DATA</div>
                <div class="file-list" data-files="world"></div>

                <div class="folder" data-folder="yokai">ğŸ“ Yokai_DATA</div>
                <div class="file-list" data-files="yokai"></div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const terminal = document.getElementById("terminal-text");
            const main = document.getElementById("main-screen");
            const sigil = document.querySelectorAll(".sigil");
            const authScreen = document.getElementById("auth-screen");
            const passwordInput = document.getElementById("password-input");
            const authMessage = document.getElementById("auth-message");

            const lines = [
                "> ì ‘ì† ìŠ¹ì¸. í™˜ì˜í•©ë‹ˆë‹¤, ê³„ì•½ìë‹˜.",
                "> ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ì´ í—ˆê°€ë˜ì–´ ê¸°ë¡ì„ ì—´ëŒí•©ë‹ˆë‹¤."
            ];

            let lineIndex = 0;
            let charIndex = 0;
            const cursor = document.createElement("span");
            cursor.className = "cursor";

            // íƒ€ì´í•‘ íš¨ê³¼ í•¨ìˆ˜
            function typeLine() {
                if (lineIndex >= lines.length) return;
                let p = terminal.children[lineIndex];
                if (!p) {
                    p = document.createElement("p");
                    terminal.appendChild(p);
                }
                p.textContent = lines[lineIndex].slice(0, charIndex + 1);
                p.appendChild(cursor);
                charIndex++;
                if (charIndex === lines[lineIndex].length) {
                    charIndex = 0;
                    lineIndex++;
                    setTimeout(typeLine, 600);
                } else {
                    setTimeout(typeLine, 40);
                }
            }

            // ì‹œê¸¸ í´ë¦­ íš¨ê³¼
            sigil.forEach(s => {
                s.addEventListener("click", () => {
                    s.style.textShadow = "0 0 30px red";
                    s.style.color = "red";
                });
            });

            // ğŸ” ë¹„ë°€ë²ˆí˜¸ ì¸ì¦
            const PASSWORD = "1234";
            passwordInput.addEventListener("keydown", (e) => {
                if (e.key === "Enter") {
                    if (passwordInput.value === PASSWORD) {
                        authMessage.textContent = "> ì¸ì¦ ì„±ê³µ. ì‹œìŠ¤í…œì— ì ‘ì†í•©ë‹ˆë‹¤...";
                        setTimeout(() => {
                            authScreen.classList.add("hidden");
                            main.classList.remove("hidden");
                            typeLine();
                        }, 800);
                    } else {
                        authMessage.textContent = "> ì¸ì¦ ì‹¤íŒ¨. ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤.";
                        passwordInput.value = "";
                    }
                }
            });

            // ğŸ“ íŒŒì¼ ë°ì´í„°
            const fileSystem = {
                world: {
                    "timeline.txt": "ì„¸ê³„ëŠ” ì„ íƒì— ë”°ë¼ ì—¬ëŸ¬ ê°ˆë˜ë¡œ ë¶„ê¸°ëœë‹¤...",
                    "contracts.log": "ê¸°ë¡ëœ ê³„ì•½ì ìˆ˜: nnnnn41423\nìœ„í—˜ë„: HIGH"
                },
                yokai: {
                    "kitsune.txt": "ì–´ëŠ êµ¬ìŠ¬ì„ ì§€í‚¤ê¸° ìœ„í•œ ì¡´ì¬.",
                    "sealed.txt": "[ì ‘ê·¼ ê±°ë¶€] ê¶Œí•œì´ ë¶€ì¡±í•œ ì •ë³´ì…ë‹ˆë‹¤."
                }
            };

            // í´ë” í´ë¦­ ì´ë²¤íŠ¸
            document.querySelectorAll(".folder").forEach(folder => {
                folder.addEventListener("click", () => {
                    const key = folder.dataset.folder;
                    const list = document.querySelector(`.file-list[data-files="${key}"]`);
                    if (!list) return;

                    if (list.childElementCount > 0) {
                        list.innerHTML = "";
                        return;
                    }

                    Object.keys(fileSystem[key]).forEach(name => {
                        const file = document.createElement("div");
                        file.className = "file";
                        file.textContent = "ğŸ“„ " + name;
                        file.addEventListener("click", () => {
                            openFileScreen(name, fileSystem[key][name]);
                        });
                        list.appendChild(file);
                    });
                });
            });

            // íŒŒì¼ ì—´ê¸° í•¨ìˆ˜
            function openFileScreen(fileName, content) {
                document.getElementById("database-view").classList.add("hidden");
                document.getElementById("file-screen").classList.remove("hidden");

                const title = document.getElementById("file-title");
                const text = document.getElementById("file-text");

                title.textContent = "FILE: " + fileName;
                text.innerHTML = ""; // ì´ˆê¸°í™”

                const welcome = document.createElement("p");
                welcome.style.color = "var(--sub-color)";
                welcome.textContent = "> í™˜ì˜í•©ë‹ˆë‹¤. ê¸°ë¡ ì—´ëŒì„ ì‹œì‘í•©ë‹ˆë‹¤.";
                text.appendChild(welcome);

                const body = document.createElement("p");
                body.textContent = content;
                text.appendChild(body);
            }

            // ë’¤ë¡œê°€ê¸° ë²„íŠ¼ (ì•ˆì „í•˜ê²Œ DOMContentLoaded ì•ˆì— ë°°ì¹˜)
            document.getElementById("back-btn").addEventListener("click", () => {
                document.getElementById("file-screen").classList.add("hidden");
                document.getElementById("database-view").classList.remove("hidden");
                document.getElementById("file-text").innerHTML = "";
                document.getElementById("file-title").textContent = "ACCESSING FILE";
            });
        });
    </script>
</body>
</html>
